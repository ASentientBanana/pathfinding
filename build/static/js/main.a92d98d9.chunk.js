(this.webpackJsonppathfinding=this.webpackJsonppathfinding||[]).push([[0],{14:function(t,e,r){},16:function(t,e,r){},17:function(t,e,r){},20:function(t,e,r){},21:function(t,e,r){"use strict";r.r(e);var n=r(1),i=r(0),c=r.n(i),s=r(8),u=r.n(s),o=(r(14),r(2)),a=r.n(o),l=r(3),f=r(6),d=(r(16),function(t){var e=t.tile,r=t.saveRef,c=t.close,s=t.mouseState,u=t.isMovingStart,o=t.isMovingEnd,a=t.moveStartEnd,l=Object(i.createRef)(),f=Object(i.useRef)("node-".concat(e.y,"-").concat(e.x));Object(i.useEffect)((function(){d(),e&&e.setId(f.current),l.current&&r(l,e)}),[e.f]);var d=function(){if(l.current){var t=l.current;t.style.height="".concat(25,"px"),t.style.width="".concat(25,"px")}},h=function(){var t,r,n;u.current||o.current?a(e.x,e.y):(e.setWalkable(),c(e),e.isStartTile&&e.isEndTile||((null===(t=l.current)||void 0===t?void 0:t.className.includes("obsticle"))?null===(r=l.current)||void 0===r||r.classList.remove("obsticle"):null===(n=l.current)||void 0===n||n.classList.add("obsticle")))};return Object(n.jsx)("div",{className:"grid-tile ",id:f.current,ref:l,onClick:h,onMouseOver:function(){s.current&&h()}})}),h=(r(17),r(4)),v=r(5),b=function(){function t(e,r){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(h.a)(this,t),this.x=void 0,this.y=void 0,this.f=void 0,this.g=void 0,this.h=void 0,this.tileSize=void 0,this.id=void 0,this.isVisited=void 0,this.neighbors=void 0,this.previusTile=void 0,this.isWalkable=void 0,this.isStartTile=void 0,this.isEndTile=void 0,this.setTileVisited=function(){return n.isVisited=!0},this.setWalkable=function(){return n.isWalkable=!n.isWalkable},this.setId=function(t){return n.id=t},this.setGcost=function(t){return n.g=t},this.setHcost=function(t){return n.h=t},this.setFCost=function(){return n.f=n.g+n.h},this.setStartTile=function(){n.isEndTile||(n.isStartTile=!0)},this.setEndTile=function(){n.isStartTile||(n.isEndTile=!0)},this.f=0,this.g=0,this.h=0,this.x=e,this.y=r,this.id="",this.isVisited=!1,this.neighbors=[],this.tileSize=i,this.isWalkable=c,this.isStartTile=s,this.isEndTile=u}return Object(v.a)(t,[{key:"addNeighbors",value:function(t){this.y!==t.length-1&&this.neighbors.push(t[this.y+1][this.x]),this.x!==t[0].length-1&&this.neighbors.push(t[this.y][this.x+1]),0!==this.y&&this.neighbors.push(t[this.y-1][this.x]),0!==this.x&&this.neighbors.push(t[this.y][this.x-1])}}]),t}(),p=function(t,e,r){for(var n=[],i=e;i!==t;)n.push(i),i.previusTile&&(i=i.previusTile);n.push(t),n.reverse(),n.forEach((function(t,e){setTimeout((function(){r[t.id].classList.add("path")}),10*e)}))},g=function(t){return new Promise((function(e){return setTimeout(e,t)}))};function j(t,e){var r=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return r+n+-.5857864376269049*Math.min(r,n)}var x=function(){var t=Object(l.a)(a.a.mark((function t(e,r,n,i,c,s,u){var o,l;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&n.push(e),o=a.a.mark((function t(){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(1);case 2:if(s=void 0,(s=n.peek()).isEndTile&&s.isStartTile||u(s,"visited"),s.setTileVisited(),void 0===r||s!==r){t.next=9;break}return e&&r&&p(e,r,c),t.abrupt("return",{v:void 0});case 9:n.pop(),i.current.push(s),s.neighbors.forEach((function(t){i.current.includes(t)||((0===t.g||t.g>s.g+.5)&&(t.setGcost(s.g+.5),t.previusTile=s),t.setHcost(j(t,r)),t.setFCost(),n.nodes.includes(t)||(u(t,"visited"),n.push(t),console.log(i.current.includes(t))))}));case 12:case"end":return t.stop()}}),t)}));case 2:if(!(n.nodes.length>0)){t.next=9;break}return t.delegateYield(o(),"t0",4);case 4:if("object"!==typeof(l=t.t0)){t.next=7;break}return t.abrupt("return",l.v);case 7:t.next=2;break;case 9:case"end":return t.stop()}}),t)})));return function(e,r,n,i,c,s,u){return t.apply(this,arguments)}}(),m=function(t){return new Promise((function(e){return setTimeout(e,t)}))},T=function(){var t=Object(l.a)(a.a.mark((function t(e,r,n,i,c,s){var u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&n.push(e),u=a.a.mark((function t(){var u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(1);case 2:if(u=void 0,u=n.peek(),s(u,"visited"),u.setTileVisited(),void 0===r||u!==r){t.next=9;break}return e&&r&&p(e,r,c),t.abrupt("return",{v:void 0});case 9:n.pop(),i.current.push(u),u.neighbors.forEach((function(t){var e;i.current.includes(t)||((e=u.g+1)<t.g||!n.nodes.includes(t))&&(s(u,"visiting"),t.g=e,t.previusTile=u,n.push(t))}));case 12:case"end":return t.stop()}}),t)}));case 2:if(!(n.nodes.length>0)){t.next=9;break}return t.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(o=t.t0)){t.next=7;break}return t.abrupt("return",o.v);case 7:t.next=2;break;case 9:case"end":return t.stop()}}),t)})));return function(e,r,n,i,c,s){return t.apply(this,arguments)}}(),O=function(){function t(){Object(h.a)(this,t),this.items=[],this.items=[]}return Object(v.a)(t,[{key:"isEmpty",value:function(){return 0===this.items.length}},{key:"pop",value:function(){return this.items.pop()}},{key:"push",value:function(t){this.items.push(t)}},{key:"shift",value:function(){return this.items.shift()}}]),t}(),k=function(t){return new Promise((function(e){return setTimeout(e,t)}))},y=function(){var t=Object(l.a)(a.a.mark((function t(e,r,n,i,c,s){var u,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isVisited=!0,(u=new O).push(e),o=a.a.mark((function t(){var i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(1);case 2:if(i=u.shift(),s(i,"visited"),i!==r){t.next=7;break}return p(e,r,n),t.abrupt("return","break");case 7:i.neighbors.forEach((function(t){c.current.includes(t)||(s(i,"visiting"),t.isVisited=!0,c.current.push(t),t.previusTile=i,u.push(t))}));case 8:case"end":return t.stop()}}),t)}));case 4:if(u.isEmpty()){t.next=11;break}return t.delegateYield(o(),"t0",6);case 6:if("break"!==t.t0){t.next=9;break}return t.abrupt("break",11);case 9:t.next=4;break;case 11:case"end":return t.stop()}}),t)})));return function(e,r,n,i,c,s){return t.apply(this,arguments)}}(),w=function(t){return new Promise((function(e){return setTimeout(e,t)}))},E=r(18),S=function(t){var e,r=Object(i.useRef)(),c=t.startTile,s=t.endTile,u=Object(i.useState)(),o=Object(f.a)(u,2),h=o[0],v=o[1],p=Object(i.createRef)(),g=Object(i.useRef)({}),j=Object(i.useRef)(!1),m=Object(i.useRef)(!1),O=Object(i.useRef)(!1),k=Object(i.useState)(!1),S=Object(f.a)(k,2),C=S[0],M=(S[1],Object(i.useRef)(!1)),R=new E((function(t,e){return t.f-e.f})),L=new E((function(t,e){return t.g-e.g})),N=[],P=Object(i.useRef)([]);Object(i.useEffect)((function(){V()}),[r.current,C]);var V=function(){var e=Object(l.a)(a.a.mark((function e(){var n,i,u,o,l,d,h,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D(),i=Object(f.a)(n,2),u=i[0],o=i[1],r.current||(r.current=new Array(o)),r.current)for(l=0;l<o;l++)for(r.current[l]=new Array(u),d=0;d<r.current[l].length;d++)r.current[l][d]=new b(d,l);return e.next=5,w(500);case 5:if(r.current){for(h=0;h<r.current.length;h++)for(v=0;v<r.current[h].length;v++)r.current[h][v].addNeighbors(r.current);try{r.current&&g.current&&(c.current?F(c.current.x,c.current.y,!0):F(),s.current?W(s.current.x,s.current.y,!0):W(),console.log(s))}catch(a){}t.obsticlePos.current.length>0&&t.obsticlePos.current.forEach((function(t){G(t,"obsticle"),r.current&&P.current.push(r.current[t.y][t.x])})),console.log(t.obsticlePos.current.length)}M.current=!0;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{c.current&&n&&(c.current.isEndTile=!1,g.current[c.current.id].classList.remove("startTile")),c.current=r.current[e][t],c.current.isEndTile=!0,g.current[c.current.id].classList.add("startTile")}catch(i){}console.log(c.current)},W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{s.current&&n&&(g.current[s.current.id].classList.remove("endTile"),s.current.isEndTile=!1),s.current=r.current[e][t],s.current&&(g.current[s.current.id].classList.add("endTile"),s.current.isEndTile=!0)}catch(i){}},G=function(t,e){var r=g.current[t.id];console.log(r.className),r.classList.add(e)},B=function(t){g.current[t.id].className="grid-tile"},D=function(){if(p.current){var t=Math.floor(p.current.clientWidth/25),e=Math.floor(p.current.clientHeight/25);return v({display:"grid",gridTemplateColumns:"repeat(".concat(t,",25px)"),gridTemplateRows:"repeat(".concat(e,",25px)"),gridColumnGap:"0px",gridRowGap:"0px"}),t?[t,e]:[20,20]}return[20,20]},I=function(t){P.current.includes(t)?P.current=P.current.filter((function(e){return t!==e})):P.current.push(t)},A=function(t,e){g.current[e.id]=t.current},H=function(t,e){m.current?c.current&&r.current&&F(t,e,!0):O.current?s.current&&r.current&&W(t,e,!0):r.current&&G(r.current[e][t],"obsticle"),m.current=!1,O.current=!1},Y=function(t,e,r,n){g.current[t].innerText="f:".concat(e," h:").concat(r," g:").concat(n)};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{id:"Grid",style:h,ref:p,onMouseDown:function(){j.current=!0},onMouseLeave:function(){return j.current=!1},onMouseUp:function(){return j.current=!1},children:null===(e=r.current)||void 0===e?void 0:e.map((function(t,e){return t.map((function(t){return Object(n.jsx)(d,{moveStartEnd:H,close:I,tile:t,saveRef:A,isMovingStart:m,isMovingEnd:O,mouseState:j},1e5*Math.random())}))}))}),Object(n.jsxs)("div",{className:"button-tray",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){M.current&&(c.current&&s.current&&x(c.current,s.current,R,P,g.current,Y,G),M.current=!1)},children:"Start Astar"}),Object(n.jsx)("button",{onClick:function(){M.current&&(c.current&&s.current&&T(c.current,s.current,L,P,g.current,G),M.current=!1)},children:"Djikstra"}),Object(n.jsx)("button",{onClick:function(){M.current&&(c.current&&s.current&&y(c.current,s.current,g.current,N,P,G),M.current=!1)},children:"BFS"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"start",onClick:function(){M.current&&(O.current=!1,m.current=!0)},children:"Move Start Node"}),Object(n.jsx)("button",{className:"end",onClick:function(){M.current&&(m.current=!1,O.current=!0)},children:"Move End Node"}),Object(n.jsx)("button",{onClick:function(){t.fullClear(),r.current&&r.current.forEach((function(t,e){t.forEach((function(t){t.isStartTile||t.isEndTile?(g.current[t.id].classList.remove("path"),g.current[t.id].classList.remove("visited"),g.current[t.id].classList.remove("visiting")):(B(t),P.current=P.current.filter((function(e){return t===e})))}))})),M.current=!0},children:"Clear Board"})]})]})]})};r(20);var C=function(){var t=Object(i.useRef)(),e=Object(i.useRef)(),r=Object(i.useRef)([]);return Object(n.jsx)("div",{className:"app",children:Object(n.jsx)(S,{startTile:t,endTile:e,obsticlePos:r,classDatabase:{},fullClear:function(){console.log("test 1"),console.log(r),r.current=[],console.log(r),console.log("test 2")}})})},M=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,22)).then((function(e){var r=e.getCLS,n=e.getFID,i=e.getFCP,c=e.getLCP,s=e.getTTFB;r(t),n(t),i(t),c(t),s(t)}))};u.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),M()}},[[21,1,2]]]);
//# sourceMappingURL=main.a92d98d9.chunk.js.map